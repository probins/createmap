import e from"./tooltip.htm.js";import t from"./component.js";var r=new t(e,"tooltip");import o from"../../utils.js";var i=o.$;import n from"../../ext/ol.js";import p from"../../olMap.js";import l from"../../vectors.js";import{getLength as s}from"../../measure.js";import{cloneAndTransformCoords as m}from"../../olUtils.js";var a=new n.interaction.Select({condition:function(e){return"pointermove"==e.type},layers:l.getLayers().getArray()}),c=p.get();c.addInteraction(a),a.on("select",(function(e){var t,r,o=i("#tooltip");if(e.selected.length>0){var n=e.selected[0];r=e.mapBrowserEvent.pixel,t=n.getProperties().name||n.getProperties().title||"";var p=n.getGeometry();if(p.getType&&"LineString"===p.getType()){let e=m(p,c.get("view").getProjection());var l=s(e);t+=" "+Math.round(.1*l)/100+"km"}}t?(o.innerHTML=t,o.style.left=r[0]+10+"px",o.style.top=r[1]+10+"px",o.style.display="block",o.parentElement.parentElement.style.cursor="pointer"):(o.style.display="none",o.parentElement.parentElement.style.cursor="")})),i(".ol-viewport").appendChild(r.getTemplate("tooltip"));