import e from"./tooltip.htm.js";import t from"./component.js";import{$ as o}from"../../utils.js";import{Select as r}from"../../deps.js";import n from"../../olMap.js";import p from"../../vectors.js";import{getLength as s}from"../../measure.js";import{transformCoords as i}from"../../olUtils.js";const l=new t(e,"tooltip"),m=new r({condition:function(e){return"pointermove"==e.type},layers:p.getLayers().getArray()}),a=n.get();a.addInteraction(m),m.on("select",(e=>{let t,r;const n=o("#tooltip");if(e.selected.length>0){const o=e.selected[0];r=e.mapBrowserEvent.pixel,t=o.getProperties().name||o.getProperties().title||"";const n=o.getGeometry();if(n.getType&&"LineString"===n.getType()){const e=i(n,a.get("view").getProjection()),o=s(e);t+=" "+Math.round(.1*o)/100+"km"}}t?(n.innerHTML=t,n.style.left=r[0]+10+"px",n.style.top=r[1]+10+"px",n.style.display="block",n.parentElement.parentElement.style.cursor="pointer"):(n.style.display="none",n.parentElement.parentElement.style.cursor="")})),o(".ol-viewport").appendChild(l.getTemplate("tooltip"));