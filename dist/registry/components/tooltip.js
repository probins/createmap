import e from"./tooltip.htm.js";import t from"./component.js";var r=new t(e,"tooltip");import o from"../../utils.js";var p=o.$;import{Select as i}from"../../deps.js";import n from"../../olMap.js";import l from"../../vectors.js";import{getLength as s}from"../../measure.js";import{transformCoords as m}from"../../olUtils.js";var a=new i({condition:function(e){return"pointermove"==e.type},layers:l.getLayers().getArray()}),y=n.get();y.addInteraction(a),a.on("select",(function(e){var t,r,o=p("#tooltip");if(e.selected.length>0){var i=e.selected[0];r=e.mapBrowserEvent.pixel,t=i.getProperties().name||i.getProperties().title||"";var n=i.getGeometry();if(n.getType&&"LineString"===n.getType()){let e=m(n,y.get("view").getProjection());var l=s(e);t+=" "+Math.round(.1*l)/100+"km"}}t?(o.innerHTML=t,o.style.left=r[0]+10+"px",o.style.top=r[1]+10+"px",o.style.display="block",o.parentElement.parentElement.style.cursor="pointer"):(o.style.display="none",o.parentElement.parentElement.style.cursor="")})),p(".ol-viewport").appendChild(r.getTemplate("tooltip"));