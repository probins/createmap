import e from"./tooltip.htm.js";import t from"./component.js";var r=new t(e,"tooltip");import o from"../../utils.js";var n=o.$;import i from"../../ext/ol.js";import p from"../../olMap.js";import l from"../../vectors.js";import s from"../../measure.js";var a=new i.interaction.Select({condition:function(e){return e.type=="pointermove"},layers:l.getLayers().getArray()});var m=p.get();m.addInteraction(a);a.on("select",(function(e){var t,r;var o=n("#tooltip");if(e.selected.length>0){var i=e.selected[0];r=e.mapBrowserEvent.pixel;t=i.getProperties().name||i.getProperties().title||"";var p=i.getGeometry();if(p.getType&&p.getType()==="LineString"){var l=s.getLength(p,m.get("view").getProjection());t+=" "+Math.round(l*.1)/100+"km"}}if(t){o.innerHTML=t;o.style.left=r[0]+10+"px";o.style.top=r[1]+10+"px";o.style.display="block";o.parentElement.parentElement.style.cursor="pointer"}else{o.style.display="none";o.parentElement.parentElement.style.cursor=""}}));n(".ol-viewport").appendChild(r.getTemplate("tooltip"));