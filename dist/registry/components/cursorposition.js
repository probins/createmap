import o from"./cursorposition.htm.js";import r from"./component.js";import{MousePosition as t}from"../../deps.js";import e from"../../olMap.js";import{$ as n}from"../../utils.js";const i=e.get(),c=new r(o,"cursorposition").getTemplate("cursorposition");function s(o,r,t){return o?r.replace("{x}",o[0].toFixed(t)).replace("{y}",o[1].toFixed(t)):""}function a(o,r,t){const e=void 0!==t?o.toFixed(t):""+o;let n=e.indexOf(".");return n=-1===n?e.length:n,n>r?e:new Array(1+r-n).join("0")+e}function p(o,r,t){const e=function(o,r){const t=o%r;return t*r<0?t+r:t}(o+180,360)-180,n=Math.abs(3600*e),i=t||0;return Math.floor(n/3600)+"° "+a(Math.floor(n/60%60),2)+"′ "+a(n%60,2,i)+"″ "+r.charAt(e<0?1:0)}document.head.appendChild(c),i.addControl(new t({coordinateFormat:function(o){return p(o[1],"NS")+" "+p(o[0],"EW")+" ("+s(o,"{y}, {x}",4)+")"},projection:"EPSG:4326",className:"llcursor"})),i.addControl(new t({coordinateFormat:function(o){return"projected: "+s(o,"{x}, {y}",0)},className:"llcursor projcursor"})),"EPSG:4326"==i.get("view").getProjection().getCode()&&(n(".projcursor").style.display="none");