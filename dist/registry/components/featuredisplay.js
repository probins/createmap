import{C as e,o as t}from"../../olMap-5f1c27bb.js";import{p as s,s as r}from"../../popup-4447fb1d.js";import{t as a,g as i}from"../../olUtils-57b0b7c1.js";import"../../mapDef-32126832.js";import"../../size-aa14a1dc.js";import"../../vectors-e5dcdfa8.js";import"../../Source-441004cf.js";import"../../string-4ef30a9f.js";import"../../rasters-2096df27.js";import"./toolbar.js";import"../../Overlay-5b288322.js";const o=new e('\n<template id="featuredisplaytemplate">\n  <div class="featureDisplay">\n    <div>Id: <span class="featureId"></span></div>\n    <div class="featureAtts"></div>\n    <div class="featureHav">calculated length: <span class="featureLenHav"></span> km</div>\n  </div>\n  <div class="featureAtt"></div>\n</template>\n',"featuredisplay").getTemplate("featuredisplay"),l=s.getOverlay(),n=t.get();r.displayOn((function(e){const t=l.get("element");if(e.selected.length>0){const s=e.selected[0],r=o.querySelector(".featureDisplay").cloneNode(!0);r.querySelector(".featureId").innerHTML=s.getId();const d=s.getProperties();for(const e in d)if(d[e]&&!d[e].$oid&&"geometry"!=e){const t=d[e].$date?new Date(d[e].$date):d[e],s=o.querySelector(".featureAtt").cloneNode(!0);s.innerHTML=e+": "+t,r.querySelector(".featureAtts").appendChild(s)}const p=s.getGeometry();if(p.getType&&"LineString"===p.getType()){const e=a(p,n.get("view").getProjection()),t=i(e);r.querySelector(".featureLenHav").innerHTML=Math.round(.1*t)/100}else r.querySelector(".featureHav").style.display="none";for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(r),t.style.display="block",l.set("position",e.mapBrowserEvent.coordinate)}else{for(;t.firstChild;)t.removeChild(t.firstChild);t.style.display="none"}}));
