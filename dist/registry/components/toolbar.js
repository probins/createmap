import{C as t,o as e}from"../../olMap-8ffb7ea3.js";import{$ as n,m as o}from"../../mapDef-32126832.js";import"../../size-aa14a1dc.js";let i;i=function t(e,n,o){function i(a,r){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!r&&l)return l(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var p=n[a]={exports:{}};e[a][0].call(p.exports,(function(t){var n=e[a][1][t];return i(n||t)}),p,p.exports,t,e,n,o)}return n[a].exports}for(var s="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(t,e,n){function o(t,e){for(var n in e)e[n]&&(t[n]=e[n]);return t}function i(t,e){t.prototype=o(t.prototype||{},e.prototype)}function s(t){t=t||{},this._startOffsetX=0,this._currentOffsetX=0,this._opening=!1,this._moved=!1,this._opened=!1,this._preventOpen=!1,this._touch=void 0===t.touch||t.touch&&!0,this.panel=t.panel,this.menu=t.menu,this.panel.className+=" slideout-panel",this.menu.className+=" slideout-menu",this._fx=t.fx||"ease",this._duration=parseInt(t.duration,10)||300,this._tolerance=parseInt(t.tolerance,10)||70,this._padding=this._translateTo=parseInt(t.padding,10)||256,this._orientation="right"===t.side?-1:1,this._translateTo*=this._orientation,this._touch&&this._initTouchEvents()}var a,r=t("decouple"),l=t("emitter"),c=!1,p=window.document,d=p.documentElement,u=window.navigator.msPointerEnabled,h={start:u?"MSPointerDown":"touchstart",move:u?"MSPointerMove":"touchmove",end:u?"MSPointerUp":"touchend"},f=function(){var t=/^(Webkit|Khtml|Moz|ms|O)(?=[A-Z])/,e=p.getElementsByTagName("script")[0].style;for(var n in e)if(t.test(n))return"-"+n.match(t)[0].toLowerCase()+"-";return"WebkitOpacity"in e?"-webkit-":"KhtmlOpacity"in e?"-khtml-":""}();i(s,l),s.prototype.open=function(){var t=this;return this.emit("beforeopen"),-1===d.className.search("slideout-open")&&(d.className+=" slideout-open"),this._setTransition(),this._translateXTo(this._translateTo),this._opened=!0,setTimeout((function(){t.panel.style.transition=t.panel.style["-webkit-transition"]="",t.emit("open")}),this._duration+50),this},s.prototype.close=function(){var t=this;return this.isOpen()||this._opening?(this.emit("beforeclose"),this._setTransition(),this._translateXTo(0),this._opened=!1,setTimeout((function(){d.className=d.className.replace(/ slideout-open/,""),t.panel.style.transition=t.panel.style["-webkit-transition"]=t.panel.style[f+"transform"]=t.panel.style.transform="",t.emit("close")}),this._duration+50),this):this},s.prototype.toggle=function(){return this.isOpen()?this.close():this.open()},s.prototype.isOpen=function(){return this._opened},s.prototype._translateXTo=function(t){this._currentOffsetX=t,this.panel.style[f+"transform"]=this.panel.style.transform="translate3d("+t+"px, 0, 0)"},s.prototype._setTransition=function(){this.panel.style[f+"transition"]=this.panel.style.transition=f+"transform "+this._duration+"ms "+this._fx},s.prototype._initTouchEvents=function(){var t=this;r(p,"scroll",(function(){t._moved||(clearTimeout(a),c=!0,a=setTimeout((function(){c=!1}),250))})),p.addEventListener(h.move,(function(e){t._moved&&e.preventDefault()})),this.panel.addEventListener(h.start,(function(e){void 0!==e.touches&&(t._moved=!1,t._opening=!1,t._startOffsetX=e.touches[0].pageX,t._preventOpen=!t._touch||!t.isOpen()&&0!==t.menu.clientWidth)})),this.panel.addEventListener("touchcancel",(function(){t._moved=!1,t._opening=!1})),this.panel.addEventListener(h.end,(function(){t._moved&&(t._opening&&Math.abs(t._currentOffsetX)>t._tolerance?t.open():t.close()),t._moved=!1})),this.panel.addEventListener(h.move,(function(e){if(!c&&!t._preventOpen&&void 0!==e.touches){var n=e.touches[0].clientX-t._startOffsetX,o=t._currentOffsetX=n;if(!(Math.abs(o)>t._padding)&&Math.abs(n)>20){t._opening=!0;var i=n*t._orientation;if(t._opened&&i>0||!t._opened&&i<0)return;i<=0&&(o=n+t._padding*t._orientation,t._opening=!1),t._moved||-1!==d.className.search("slideout-open")||(d.className+=" slideout-open"),t.panel.style[f+"transform"]=t.panel.style.transform="translate3d("+o+"px, 0, 0)",t.emit("translate",o),t._moved=!0}}}))},s.prototype.enableTouch=function(){return this._touch=!0,this},s.prototype.disableTouch=function(){return this._touch=!1,this},e.exports=s},{decouple:2,emitter:3}],2:[function(t,e,n){function o(t,e,n){function o(t){r=t,s()}function s(){l||(i(a),l=!0)}function a(){n.call(t,r),l=!1}var r,l=!1;t.addEventListener(e,o,!1)}var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};e.exports=o},{}],3:[function(t,e,n){var o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};n.__esModule=!0;var i=function(){function t(){o(this,t)}return t.prototype.on=function(t,e){return this._eventCollection=this._eventCollection||{},this._eventCollection[t]=this._eventCollection[t]||[],this._eventCollection[t].push(e),this},t.prototype.once=function(t,e){function n(){o.off(t,n),e.apply(this,arguments)}var o=this;return n.listener=e,this.on(t,n),this},t.prototype.off=function(t,e){var n=void 0;return this._eventCollection&&(n=this._eventCollection[t])?(n.forEach((function(t,o){t!==e&&t.listener!==e||n.splice(o,1)})),0===n.length&&delete this._eventCollection[t],this):this},t.prototype.emit=function(t){for(var e=this,n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];var s=void 0;return this._eventCollection&&(s=this._eventCollection[t])?(s=s.slice(0),s.forEach((function(t){return t.apply(e,o)})),this):this},t}();n.default=i,e.exports=n.default},{}]},{},[1])(1);var s=i;const a=new t('\n<template id="toolbartemplate">\n  <style>\n    section {\n      border:1px solid #D2D8DE;\n    }\n    .toolbartitle {\n      background-color: #6fc;\n      cursor: pointer;\n      text-align: center;\n    }\n    .toolbarcontent {\n      background-color: #cff;\n      display: none;\n    }\n    .helptitle {\n      background-color: #6fc;\n      cursor: pointer;\n      text-align: center;\n      font-style: italic;\n    }\n    .helpcontent {\n      background-color: #cff;\n      display: none;\n    }\n  </style>\n  <div id="toolbar">\n    <section>\n      <div id="layers-title" class="toolbartitle">Layers</div>\n      <div id="layers-content" class="toolbarcontent">\n        <div id="layers-text"><i>Layers are raster or vector map data</i></div>\n        <button id="addlayerbutton" class="addbutton">Add a layer</button>\n      </div>\n    </section>\n    <section>\n      <div id="components-title" class="toolbartitle">Components</div>\n      <div id="components-content" class="toolbarcontent">\n        <div><i>Add components:</i></div>\n        <select id="addcomponent" title="Add component">\n          <option value="choose">Choose:</option>\n          <option id="centeroption" value="center">Go to</option>\n          <option id="placesearchoption" value="placesearch">Place search</option>\n          <option id="geolocationoption" value="geolocation">Geolocation</option>\n          <option id="drawoption" value="draw">Draw</option>\n          <option id="cursorpositionoption" value="cursorposition">Cursor position</option>\n          <option id="featuredisplayoption" class="vectorOption" value="featuredisplay">Popup</option>\n          <option id="tooltipoption" class="vectorOption" value="tooltip">Tooltip</option>\n        </select>\n      </div>\n    </section>\n    <section>\n      <div id="mapDef-title" class="toolbartitle">Map definition</div>\n      <div id="mapDef-content" class="toolbarcontent">\n        <button id="mapdefbutton" class="addbutton">Use map definition</button>\n      </div>\n    </section>\n    <section>\n      <div id="help-title" class="toolbartitle">Help</div>\n      <div id="help-content" class="toolbarcontent">\n      <section>\n        <div id="toolbar-title" class="helptitle">Toolbar</div>\n        <div id="toolbar-content" class="helpcontent">\n          <div id="toolbar-text">\n            <p>Add a raster or vector layer, or additional components in the sections above. Vector layers can be toggled on/off using the layer switcher in the layers section. If there is more than one raster layer, the active one can also be selected with the layer switcher.</p>\n          </div>\n        </div>\n      </section>\n      <section>\n        <div id="navigation-title" class="helptitle">Navigation</div>\n        <div id="navigation-content" class="helpcontent">\n          <div id="navigation-text">\n            <p>You can zoom in/out using the controls on the left, or pan the map by dragging it. If you double-click/double-tap, it will zoom in. On desktop, you can also shift/drag to zoom into the highlighted area, pan using the arrow keys on your keyboard, and zoom using the wheel on the mouse (forward to zoom in, back to zoom out). On mobile, pinch drag will zoom in/out.</p>\n          </div>\n        </div>\n      </section>\n      <section>\n        <div id="scaleline-title" class="helptitle">Scale line</div>\n        <div id="scaleline-content" class="helpcontent">\n          <div id="scaleline-text">\n            <p>The scale-line shown at the bottom is based on the distance at the centre of the current viewport. The distance at the top or bottom of the viewport may differ from this depending on the projection. The discrepancy should not be significant at the zoomlevel of a European country or above, but if you zoom out on Bing or OSM maps it will be. At the extreme - zoomlevel 0 on these maps - the scaleline is useless, as Mercator\'s projection used by these maps takes no account of the fact that longitudinal distance (west-east) depends on the latitude.</p>\n          </div>\n        </div>\n      </section>\n      <section>\n        <div id="copyright-title" class="helptitle">Copyright</div>\n        <div id="copyright-content" class="helpcontent">\n          <div id="copyright-text">\n            <p>These map pages use data from other sources, most of which have a copyright on their maps. This is particularly true of topographic maps. Copyright laws vary from country to country, but in general anything more than a small amount of copying for personal use, for example, printing a couple of pages, will require a license from the copyright-holder. Click on the attribution link at the bottom of the page for more info on the copyright of the particular map-base. Because of copyright, these pages do not provide any printing facility (other than the \'print screen\' button); they are primarily for viewing maps online, not for hard copy which you would normally be expected to buy.</p>\n          </div>\n        </div>\n      </section>\n      </div>\n    </section>\n  </div>\n</template>\n\n<template id="toggletemplate">\n  <style>\n    #slide-toggle {\n      position: absolute;\n      top: 15px;\n      left: 60px;\n      z-index: 1000;\n    }\n  </style>\n  <button id="slide-toggle" title="Toggle options menu">☰</button>\n</template>\n'),r=a.getTemplate("toolbar");function l(t){function e(){const t=this.nextElementSibling;t.style.display="block"==t.style.display?"none":"block"}const n=r.querySelectorAll(t);for(const t of n)t.addEventListener("click",e)}l(".toolbartitle"),l(".helptitle");const c=o.get();function p(){const t=this.getAttribute("id").replace("button","");import("./"+t+".js"),this.style.display="none",this.removeEventListener("click",p)}const d=r.querySelectorAll(".addbutton");for(const t of d){const e=t.getAttribute("id").replace("button","");c.components&&c.components[e]||t.addEventListener("click",p)}if(!c.vectors){const t=r.querySelectorAll(".vectorOption");for(const e of t)e.style.display="none"}document.body.appendChild(r),n("#addcomponent").onchange=function(t){"choose"!==t.target.value&&("redraw"==t.target.value?(n("#drawtype").style.display="block",n("#drawoption").style.display="none"):(import("./"+t.target.value+".js"),n("#"+t.target.value+"option").style.display="none"),this.value="choose",this.blur())};const u=a.getTemplate("toggle");e.addControl(u);const h=new s({panel:n("#map"),menu:n("#toolbar"),touch:!1});n("#slide-toggle").addEventListener("click",(function(){h.toggle(),this.blur()}));var f=n("#toolbar");export default f;
