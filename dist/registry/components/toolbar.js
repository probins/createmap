import tpl from"./toolbar.htm.js";import Component from"./component.js";var toolbar=new Component(tpl);import ol from"../../ext/ol.js";import olMap from"../../olMap.js";var map=olMap.get();import utils from"../../utils.js";var $=utils.$;import md from"../../mapDef.js";var mapDef=md.get();var i;import Slideout from"./ext/slideout.min.js";var template=toolbar.getTemplate("toolbar");var divs=template.querySelectorAll(".toolbartitle");var cb=function(){var el=this.nextElementSibling;el.style.display=el.style.display=="block"?"none":"block"};for(i=0;i<divs.length;i++){divs[i].addEventListener("click",cb)}var listener=function(){var me=this.getAttribute("id").replace("button","");import("./"+me+".js");this.style.display="none";this.removeEventListener("click",listener)};var btns=template.querySelectorAll(".addbutton");for(i=0;i<btns.length;i++){var comp=btns[i].getAttribute("id").replace("button","");if(!(mapDef.components&&mapDef.components[comp])){btns[i].addEventListener("click",listener)}}if(!mapDef.vectors){btns=template.querySelectorAll(".vectorOption");for(i=0;i<btns.length;i++){btns[i].style.display="none"}}divs=template.querySelectorAll(".helptitle");cb=function(){var el=this.nextElementSibling;el.style.display=el.style.display=="block"?"none":"block"};for(i=0;i<divs.length;i++){divs[i].addEventListener("click",cb)}document.body.appendChild(template);$("#addcomponent").onchange=function(e){if(e.target.value!=="choose"){if(e.target.value=="redraw"){$("#drawtype").style.display="block";$("#drawoption").style.display="none"}else{import("./"+e.target.value+".js");$("#"+e.target.value+"option").style.display="none"}this.value="choose";this.blur()}};map.addControl(new ol.control.Control({element:toolbar.getTemplate("toggle")}));var slideout=new Slideout({panel:$("#map"),menu:$("#toolbar"),touch:false});$("#slide-toggle").addEventListener("click",(function(){slideout.toggle()}));export default $("#toolbar");