import{o as e,C as t}from"../../olMap-5f1c27bb.js";import{O as o}from"../../Overlay-5b288322.js";import{aE as n}from"../../size-aa14a1dc.js";import{$ as i}from"../../mapDef-32126832.js";import"./toolbar.js";const a=e.get(),l=new t('\n<template id="geolocationtemplate">\n  <style>\n    #geolocationContainer {\n      position: absolute;\n      top: 15px;\n      left: 100px;\n      font-size: 1em;\n    }\n  </style>\n  <div id="geolocationContainer">\n    <button id="geolocationbutton" title="Geolocation"><i class="fa fa-map-marker fa-lg"></i></button>\n  </div>\n</template>\n\n<template id="geomarkertemplate">\n  <div id="geomarker"><i class="fa fa-location-arrow"></i></div>\n</template>\n\n<template id="geolocationhelptemplate">\n  <section>\n    <div id="geolocation-title" class="helptitle">Geolocation</div>\n    <div id="geolocation-content" class="helpcontent">\n      <div id="geolocation-text">\n        <p>Click on the marker button to fetch the current position from the device. This can take several seconds.</p>\n      </div>\n    </div>\n  </section>\n</template>\n',"geolocation");let s=l.getTemplate("geolocation");e.addControl(s);const r="Unable to retrieve your location",c="Position outside map extent",d="Geolocation is not supported by your browser";s=l.getTemplate("geomarker");const p=s.getElementById("geomarker"),g=new o({positioning:"center-center",element:p});a.addOverlay(g),i("#geolocationbutton").addEventListener("click",()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){let t=[parseFloat(e.coords.longitude),parseFloat(e.coords.latitude)];t=n(t,"EPSG:4326",a.get("view").getProjection());const o=a.get("view").extent;if(o[0]<=t[0]&&t[0]<=o[2]&&o[1]<=t[1]&&t[1]<=o[3]){a.get("view").setCenter(t),a.get("view").setZoom(a.get("view").zoomIn);const o=e.heading?e.heading-45:-45;p.firstChild.style.transform="rotate("+o+"deg)",g.set("position",t)}else alert(c)}),(function(){alert(r)})):alert(d)}),i("#help-content").appendChild(l.getTemplate("geolocationhelp")),i("#geolocation-title").addEventListener("click",(function(){const e=this.nextElementSibling;e.style.display="block"==e.style.display?"none":"block"}));
