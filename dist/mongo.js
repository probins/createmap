import{Feature as e,GeoJSON as t}from"./deps.js";export default{readFeatures:function(t,r){"string"==typeof t&&(t=JSON.parse(t));const o=[];return t.forEach((t=>{const s=new e;for(const e in t)if("id"==e)s.setId(t[e]);else if(t[e]&&t[e].type&&t[e].coordinates){let o=new ol[t[e].type](t[e].coordinates);r&&r.featureProjection&&o.transform("EPSG:4326",r.featureProjection),s.setGeometry(o)}else s.set(e,t[e]);o.push(s)})),o},writeFeatures:function(e,r){const o=[],s=new t;return JSON.parse(s.writeFeatures(e,r)).features.forEach((e=>{const t={id:e.id,geometry:e.geometry};for(const r in e.properties)t[r]=e.properties[r];o.push(t)})),JSON.stringify(o)}};