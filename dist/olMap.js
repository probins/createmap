import{Control as e,controlDefaults as t,GroupLayer as n,Map as o,ScaleLine as r,transform as i,View as c}from"./deps.js";const d={},s=new o({controls:t({attributionOptions:{collapsible:!1}}).extend([new r]),layers:[new n({id:"rasters"}),new n({id:"vectors"})],target:function(){const e=document.createElement("div");return e.id="map",document.body.appendChild(e),e}(),keyboardEventTarget:document});function a(e={},t,n,o){const r=n?[(n[0]+n[2])/2,(n[1]+n[3])/2]:[0,0],d={center:e.center?i([e.center.lon,e.center.lat],"EPSG:4326",t):r,zoom:e.zoom||0};return t&&(d.projection=t),o&&(d.resolutions=o),e.rotation&&(d.rotation=e.rotation),new c(d)}export default{createView:a,views:d,use4326View:function(e){const t="EPSG:4326";d[t]=a(e,t),s.set("view",d[t])},setFocus:function(){document.querySelector("#map").focus()},get:function(){return s},addControl:function(t){document.body.appendChild(t.firstElementChild),s.addControl(new e({element:t.lastElementChild}))}};