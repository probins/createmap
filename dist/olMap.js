import{Control as e,controlDefaults as t,GroupLayer as n,Map as o,ScaleLine as r,transform as i,View as d}from"./deps.js";var a,c={},l=new o({controls:t({attributionOptions:{collapsible:!1}}).extend([new r]),layers:[new n({id:"rasters"}),new n({id:"vectors"})],target:(a=document.createElement("div"),a.id="map",document.body.appendChild(a),a),keyboardEventTarget:document});function s(e,t,n,o){e=e||{};var r=n?[(n[0]+n[2])/2,(n[1]+n[3])/2]:[0,0],a={center:e.center?i([e.center.lon,e.center.lat],"EPSG:4326",t):r,zoom:e.zoom||0};return t&&(a.projection=t),o&&(a.resolutions=o),e.rotation&&(a.rotation=e.rotation),new d(a)}export default{createView:s,views:c,use4326View:function(e){var t="EPSG:4326";c[t]=s(e,t),l.set("view",c[t])},setFocus:function(){document.querySelector("#map").focus()},get:function(){return l},addControl:function(t){document.body.appendChild(t.firstElementChild),l.addControl(new e({element:t.lastElementChild}))}};